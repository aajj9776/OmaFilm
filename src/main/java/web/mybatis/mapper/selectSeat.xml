<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="selectSeat">
    <insert id="insertSeat" parameterType="Map">
        insert into selected_seat (rs_num, s_code, p_code, a_code, ss_code)
        values (#{rs_num}, #{s_code}, #{p_code}, #{a_code}, #{ss_code})
    </insert>

    <select id="checkSeat" resultType="web.mybatis.vo.SelectSeatVO" parameterType="web.mybatis.vo.ScreeningScheduleVO">
        SELECT * FROM selected_seat s
        INNER JOIN screening_schedule ss
        ON s.ss_code = ss.ss_code
        INNER JOIN reservation r
        ON s.rs_num = r.rs_num
        <where>
            AND t_name = #{t_name}
            AND ss_time = #{ss_time}
            AND rs_status = 0
        </where>
    </select>
</mapper>